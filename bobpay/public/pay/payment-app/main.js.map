{"version":3,"sources":["webpack:///../validator-lib/dist/address-validation.js","webpack:///../validator-lib/dist/browser.js","webpack:///../validator-lib/dist/browserValidatorFactory.js","webpack:///../validator-lib/dist/transfer-request.js","webpack:///../validator-lib/dist/validator/validator.js","webpack:///../validator-lib/dist/watcher-proxy/cached-watcher-proxy.js","webpack:///../validator-lib/dist/watcher-proxy/combined-watcher-proxy.js","webpack:///../validator-lib/dist/watcher-proxy/proxied-watcher-proxy.js","webpack:///./dist/interblockchain-components/fesm5/interblockchain-components.js","webpack:///./dist/interblockchain-styles/fesm5/interblockchain-styles.js","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/pages/confirmations/confirmations.component.html","webpack:///./src/app/pages/confirmations/confirmations.component.scss","webpack:///./src/app/pages/confirmations/confirmations.component.ts","webpack:///./src/app/pages/payment-selection/payment-selection.component.html","webpack:///./src/app/pages/payment-selection/payment-selection.component.scss","webpack:///./src/app/pages/payment-selection/payment-selection.component.ts","webpack:///./src/app/pages/payment/payment.component.html","webpack:///./src/app/pages/payment/payment.component.scss","webpack:///./src/app/pages/payment/payment.component.ts","webpack:///./src/app/pages/summary/summary.component.html","webpack:///./src/app/pages/summary/summary.component.scss","webpack:///./src/app/pages/summary/summary.component.ts","webpack:///./src/app/services/accounts/accounts.service.ts","webpack:///./src/app/services/currency-converter/currency-converter.service.ts","webpack:///./src/app/services/currency-selection/currency-selection.service.ts","webpack:///./src/app/services/key-factory/key-factory.service.ts","webpack:///./src/app/services/ledger/ledger.service.ts","webpack:///./src/app/services/payment-sw/payment-sw.service.ts","webpack:///./src/app/services/validation/validation.service.ts","webpack:///./src/app/utils.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;;AAAa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACba;AACb;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,gCAAgC,mBAAO,CAAC,mFAA2B;AACnE;AACA,8BAA8B,mBAAO,CAAC,2GAAuC;AAC7E;AACA,SAAS,mBAAO,CAAC,yGAAsC;AACvD,SAAS,mBAAO,CAAC,6GAAwC;AACzD,SAAS,mBAAO,CAAC,qEAAoB;;;;;;;;;;;;;ACXxB;AACb,8CAA8C,cAAc;AAC5D,oBAAoB,mBAAO,CAAC,2EAAuB;AACnD;AACA;AACA,sDAAsD;AACtD;AACA;AACA;;;;;;;;;;;;;ACRa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,6BAA6B,sCAAsC;AAClG;AACA;AACA;;;;;;;;;;;;;AChCa;AACb;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,+DAAM;AAC7B,oBAAoB,mBAAO,CAAC,mFAAgB;AAC5C,2BAA2B,mBAAO,CAAC,sEAAqB;AACxD,uBAAuB,mBAAO,CAAC,6EAAc;AAC7C,6BAA6B,mBAAO,CAAC,0EAAuB;AAC5D,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa,6BAA6B;AAC1C,8BAA8B,4DAA4D,6CAA6C;AACvI;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,2BAA2B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oCAAoC,GAAG,oCAAoC,GAAG,0DAA0D;AAC/J,kBAAkB,oCAAoC,GAAG,oCAAoC,GAAG,0DAA0D;AAC1J;AACA;AACA,uBAAuB,8BAA8B,GAAG,8BAA8B,GAAG,oDAAoD;AAC7I,kBAAkB,8BAA8B,GAAG,8BAA8B,GAAG,oDAAoD;AACxI;AACA;AACA;AACA,uBAAuB,sBAAsB,GAAG,+BAA+B,GAAG,6BAA6B;AAC/G,kBAAkB,sBAAsB,GAAG,+BAA+B,GAAG,6BAA6B;AAC1G;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB,eAAe,6JAA6J;AAC/N,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,QAAQ,mKAAmK;AAC3N;AACA;AACA,qDAAqD,SAAS,2KAA2K;AACzO;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,6HAA6H,yCAAyC,+DAA+D,yCAAyC;AACvR;AACA;AACA;;;;;;;;;;;;;AC1Ia;AACb,8CAA8C,cAAc;AAC5D,oBAAoB,mBAAO,CAAC,mFAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,cAAc,GAAG,QAAQ,GAAG,QAAQ,GAAG,OAAO;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ,sHAAsH;AAC7I;AACA;AACA;AACA;AACA,4EAA4E,QAAQ;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,oBAAoB,mBAAO,CAAC,mFAAgB;AAC5C,eAAe,mBAAO,CAAC,+DAAM;AAC7B,oBAAoB,mBAAO,CAAC,mFAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,SAAS;AACnG,+BAA+B,SAAS,wBAAwB;AAChE;AACA;AACA;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkF;AACnC;AACD;AAC6B;AAC5B;;AAE/C;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA;AACA,iBAAiB,IAAI;AACrB;AACA;AACA,kDAAkD,WAAW;AAC7D;AACA,iBAAiB,OAAO,mDAAK,EAAE;AAC/B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA,wBAAwB,4DAAY;AACpC,wBAAwB,2DAAe;AACvC;AACA;AACA;AACA,iBAAiB,IAAI;AACrB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,wIAAwI,eAAe,KAAK,KAAK,+rBAA+rB,eAAe,KAAK,KAAK;AACz3B,8CAA8C,kBAAkB,aAAa,sBAAsB,aAAa,YAAY,iBAAiB,aAAa,uBAAuB,mBAAmB,wBAAwB,uBAAuB,iBAAiB,iCAAiC,yBAAyB,kCAAkC,UAAU,iBAAiB,eAAe,iBAAiB,qBAAqB,2BAA2B,WAAW,YAAY,kBAAkB,aAAa,mBAAmB,uBAAuB,4CAA4C,kBAAkB;AACzmB,iBAAiB,IAAI;AACrB;AACA;AACA,uDAAuD;AACvD,SAAS,OAAO,yEAAkB;AAClC,MAAM;AACN;AACA,kBAAkB,OAAO,mDAAK,EAAE;AAChC,oBAAoB,OAAO,mDAAK,EAAE;AAClC,eAAe,OAAO,mDAAK,EAAE;AAC7B,iBAAiB,OAAO,uDAAS,oBAAoB;AACrD;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA,wBAAwB,4DAAY;AACpC,wBAAwB,oEAAa;AACrC;AACA;AACA;AACA,iBAAiB,IAAI;AACrB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,oCAAoC;AAClD;AACA,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,wDAAwD,wDAAwD,EAAE;AAClH;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,uDAAS;AACxB;AACA,mBAAmB,yDAAW;AAC9B;AACA,uFAAuF,wDAAwD,EAAE;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS,OAAO,wDAAU,EAAE;AAC5B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,sBAAsB,uCAAuC,uDAAuD,EAAE,EAAE,EAAE,MAAM,oBAAoB;AACpJ;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAU,EAAE;AAC5B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,oCAAoC;AAClD;;AAEA;AACA;AACA,cAAc,oCAAoC;AAClD;;AAE+I;;AAE/I,2CAA2C,cAAc,2+tB;;;;;;;;;;;;ACnhBzD;AAAA;AAAA;AAAA;AAAA;AAAqD;AACN;;AAE/C;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AA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","file":"main.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass AddressValidation {\n    constructor(info) {\n        this.info = info;\n    }\n    get isValid() {\n        return this.info.currentNbConf >= this.info.requiredNbConf;\n    }\n    get isCompleted() {\n        return this.info.currentNbConf >= this.info.requiredNbConf;\n    }\n}\nexports.AddressValidation = AddressValidation;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar browserValidatorFactory_1 = require(\"./browserValidatorFactory\");\nexports.ValidatorFactory = browserValidatorFactory_1.BrowserValidatorFactory;\nvar proxied_watcher_proxy_1 = require(\"./watcher-proxy/proxied-watcher-proxy\");\nexports.WatcherProxy = proxied_watcher_proxy_1.ProxiedWatcherProxy;\n__export(require(\"./watcher-proxy/cached-watcher-proxy\"));\n__export(require(\"./watcher-proxy/combined-watcher-proxy\"));\n__export(require(\"./transfer-request\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validator_1 = require(\"./validator/validator\");\nclass BrowserValidatorFactory {\n    static create(watcher) {\n        return new validator_1.Validator(watcher || {});\n    }\n}\nexports.BrowserValidatorFactory = BrowserValidatorFactory;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass TransferRequest {\n    constructor(_validationResponse) {\n        this._validationResponse = _validationResponse;\n        this.timestamp = new Date();\n    }\n    get source() {\n        return this._validationResponse.source;\n    }\n    get dest() {\n        return this._validationResponse.dest;\n    }\n    get id() {\n        return this._validationResponse.id;\n    }\n    get isSourceCompleted() {\n        return !!(this._validationResponse.source && this._validationResponse.source.currentNbConf >= this._validationResponse.source.requiredNbConf);\n    }\n    get isDestCompleted() {\n        return !!(this._validationResponse.dest && this._validationResponse.dest.currentNbConf >= this._validationResponse.dest.requiredNbConf);\n    }\n    get isCompleted() {\n        return this.isSourceCompleted && this.isDestCompleted;\n    }\n    get isValid() {\n        return !!(this._validationResponse.source && this._validationResponse.dest && this._validationResponse.dest.amount === this._validationResponse.source.amount);\n    }\n    toJSON() {\n        return Object.assign({}, this._validationResponse, { validatorReceivedAt: this.timestamp });\n    }\n}\nexports.TransferRequest = TransferRequest;\n","\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst transfer_request_1 = require(\"../transfer-request\");\nconst bignumber_js_1 = require(\"bignumber.js\");\nconst address_validation_1 = require(\"../address-validation\");\n// import { logger } from '../logger/logger';\nclass Validator {\n    constructor(_watcherProxy) {\n        this._watcherProxy = _watcherProxy;\n        this.isResponseEventMatchingRequest = (request, prop) => operators_1.filter((payload) => this.getKeyFromResponse(payload) === this.getKeyFromRequest(request, prop));\n        this.isResponseEventMatchingSingleRequest = (request) => operators_1.filter((payload) => this.getKeyFromResponse(payload) === this.getKeyFromSingleRequest(request));\n        this.unsubscribeOnCompleted = (request) => operators_1.tap((validation) => {\n            if (validation.isCompleted) {\n                this._watcherProxy.unwatch(request.id, request.address, request.network, request.nbConf);\n            }\n        });\n    }\n    uniformize(_a) {\n        var { network, addresses, nbConf } = _a, rest = __rest(_a, [\"network\", \"addresses\", \"nbConf\"]);\n        return Object.assign({ network: network.toUpperCase(), addresses: addresses.map(({ address, amount, onlyReqConf, requiredConf }) => {\n                return {\n                    amount: Math.abs(Number(amount)),\n                    address,\n                    onlyReqConf,\n                    requiredConf: Number(requiredConf),\n                };\n            }), nbConf: Number(nbConf) }, rest);\n    }\n    // TODO extract this into its own npm package @interblockchain/utils\n    convertAmount(amount, ticker) {\n        console.log(\" Amount: \" + amount + \" ticker: \" + ticker);\n        let value = new bignumber_js_1.BigNumber(amount);\n        if (!value.isFinite() || value.isZero()) {\n            throw { name: \"convertAmount\", message: \"Amount is zero or not finite.\" };\n        }\n        switch (ticker.toUpperCase()) {\n            // case \"XLM\":\n            //     return value.toString()\n            case \"TBTC\":\n            case \"TLTC\":\n            case \"ITLTC\":\n            case \"ITBTC\":\n            case \"TBCH\":\n            case \"ITBCH\":\n                //Satoshi is 10^-8 BTC\n                let factor = new bignumber_js_1.BigNumber(10).exponentiatedBy(8);\n                return value.multipliedBy(factor).toString();\n            case \"TETH\":\n            case \"ITETH\":\n                //Wei is 10^-18 ETH\n                factor = new bignumber_js_1.BigNumber(10).exponentiatedBy(18);\n                return value.multipliedBy(factor).toString();\n            default:\n                return value.toString();\n        }\n    }\n    // TODO extract this into its own npm package @interblockchain/utils\n    convertToAmount(amount, ticker) {\n        console.log(\" Amount: \" + amount + \" ticker: \" + ticker);\n        let value = new bignumber_js_1.BigNumber(amount);\n        if (!value.isFinite() || value.isZero()) {\n            throw { name: \"convertAmount\", message: \"Amount is zero or not finite.\" };\n        }\n        switch (ticker.toUpperCase()) {\n            // case \"XLM\":\n            //     return value.toString()\n            case \"TBTC\":\n            case \"TLTC\":\n            case \"ITLTC\":\n            case \"ITBTC\":\n            case \"TBCH\":\n            case \"ITBCH\":\n                //Satoshi is 10^-8 BTC\n                let factor = new bignumber_js_1.BigNumber(10).exponentiatedBy(8);\n                return value.dividedBy(factor).toString();\n            case \"TETH\":\n            case \"ITETH\":\n                //Wei is 10^-18 ETH\n                factor = new bignumber_js_1.BigNumber(10).exponentiatedBy(18);\n                return value.dividedBy(factor).toString();\n            default:\n                return value.toString();\n        }\n    }\n    getAddress(addresses) {\n        return addresses[0].address;\n    }\n    getKeyFromRequest(request, prop) {\n        console.log(`${request[prop].address.toUpperCase()}:${request[prop].network.toUpperCase()}:${this.convertAmount(request.amount, request[prop].network)}`);\n        return `${request[prop].address.toUpperCase()}:${request[prop].network.toUpperCase()}:${this.convertAmount(request.amount, request[prop].network)}`;\n    }\n    getKeyFromSingleRequest(request) {\n        console.log(`${request.address.toUpperCase()}:${request.network.toUpperCase()}:${this.convertAmount(request.amount, request.network)}`);\n        return `${request.address.toUpperCase()}:${request.network.toUpperCase()}:${this.convertAmount(request.amount, request.network)}`;\n    }\n    getKeyFromResponse(response) {\n        const address = this.getAddress(response.addresses);\n        console.log(`${address.toUpperCase()}:${response.network.toUpperCase()}:${response.addresses[0].amount}`);\n        return `${address.toUpperCase()}:${response.network.toUpperCase()}:${response.addresses[0].amount}`;\n    }\n    validateSingleTransaction(request) {\n        // logger.info('[Validator]: Start validation on single transaction:', request.id);\n        return this._watcherProxy.watch(request.id, request.address, request.network, request.nbConf).pipe(operators_1.tap(() => console.log('Data received')), operators_1.tap(console.log), operators_1.map(this.uniformize), this.isResponseEventMatchingSingleRequest(request), operators_1.tap(() => console.log('Response matching request'))).pipe(operators_1.map((validation) => {\n            return Object.assign({ id: request.id }, validation, { requiredNbConf: request.nbConf, currentNbConf: validation.nbConf, amount: Number(this.convertToAmount(validation.addresses[0].amount, validation.network)) });\n        }), operators_1.map((response) => new address_validation_1.AddressValidation(response)), this.unsubscribeOnCompleted(request));\n    }\n    ;\n    validate(request) {\n        return rxjs_1.combineLatest(this._watcherProxy.watch(request.id, request.source.address, request.source.network, request.source.nbConf).pipe(operators_1.tap(console.log), operators_1.map(this.uniformize), this.isResponseEventMatchingRequest(request, 'source'), operators_1.startWith(null)), this._watcherProxy.watch(request.id, request.destination.address, request.destination.network, request.destination.nbConf).pipe(operators_1.tap(console.log), operators_1.map(this.uniformize), this.isResponseEventMatchingRequest(request, 'destination'), operators_1.startWith(null))).pipe(operators_1.tap(console.log), operators_1.map(([source, destination]) => {\n            const src = source;\n            const dest = destination;\n            let sourcePayload = null;\n            let destinationPayload = null;\n            if (source) {\n                sourcePayload = Object.assign({}, src, { amount: Number(this.convertToAmount(src.addresses[0].amount, src.network)), txHash: src.txHash, currentNbConf: src.nbConf, requiredNbConf: request.source.nbConf });\n            }\n            if (destination) {\n                destinationPayload = Object.assign({}, dest, { amount: Number(this.convertToAmount(dest.addresses[0].amount, src.network)), currentNbConf: dest.nbConf, txHash: dest.txHash, requiredNbConf: request.destination.nbConf });\n            }\n            return {\n                id: request.id,\n                source: sourcePayload,\n                dest: destinationPayload\n            };\n        }), operators_1.map(response => new transfer_request_1.TransferRequest(response)), this.unsubscribeOnCompleted(Object.assign({ id: request.id, amount: request.amount }, request.source)), this.unsubscribeOnCompleted(Object.assign({ id: request.id, amount: request.amount }, request.destination)));\n    }\n}\nexports.Validator = Validator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst operators_1 = require(\"rxjs/operators\");\nclass CachedWatcherProxy {\n    constructor(watcher) {\n        this.watcher = watcher;\n        this.watchMap = new Map();\n    }\n    watch(transactionId, address, network, nbConf) {\n        const key = `${transactionId}:${address}:${network}:${nbConf}`;\n        if (!this.watchMap.has(key)) {\n            this.watchMap.set(key, this.watcher.watch(transactionId, address, network, nbConf).pipe(operators_1.shareReplay()));\n        }\n        return this.watchMap.get(key);\n    }\n    unwatch(transactionId, address, network, nbConf) {\n        return this.watcher.unwatch(transactionId, address, network, nbConf);\n    }\n}\nexports.CachedWatcherProxy = CachedWatcherProxy;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass CombinedWatcherProxy {\n    constructor(proxyConfigs) {\n        this.proxyConfigs = proxyConfigs;\n    }\n    select(network) {\n        const { proxy } = this.proxyConfigs.find((x) => !!x.supportedNetwork.find((net) => net.toUpperCase() === network.toUpperCase())) || { proxy: undefined };\n        if (proxy) {\n            return proxy;\n        }\n        else {\n            throw new Error(`[CombinedWatcherProxy]: Unsupported network: ${network}`);\n        }\n    }\n    watch(transactionId, address, network, nbConf) {\n        const proxy = this.select(network);\n        return proxy.watch(transactionId, address, network, nbConf);\n    }\n    unwatch(transactionId, address, network, nbConf) {\n        const proxy = this.select(network);\n        return proxy.unwatch(transactionId, address, network, nbConf);\n    }\n}\nexports.CombinedWatcherProxy = CombinedWatcherProxy;\n","\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst operators_1 = require(\"rxjs/operators\");\nconst rxjs_1 = require(\"rxjs\");\nconst webSocket_1 = require(\"rxjs/webSocket\");\nclass ProxiedWatcherProxy {\n    constructor(proxyUrl, appIdSelector = () => localStorage.getItem('appID'), proxiedWsConfig) {\n        this.proxyUrl = proxyUrl;\n        this.appIdSelector = appIdSelector;\n        this.proxiedWsConfig = proxiedWsConfig;\n        this.initObservable = rxjs_1.Observable.create((obs) => {\n            this.websocketSubject.next({\n                'action': 'init-proxy-connection',\n                'body': this.proxiedWsConfig\n            });\n            obs.next(this.websocketObs);\n        });\n        this.websocketSubject = new webSocket_1.WebSocketSubject({\n            url: this.proxyUrl,\n            serializer: (data) => {\n                if (typeof data === 'string') {\n                    return data;\n                }\n                else {\n                    return JSON.stringify(data);\n                }\n            }\n        });\n        this.websocketObs = this.websocketSubject;\n        this.proxyInitialized = this.initObservable\n            .pipe(operators_1.switchMap((ws) => ws), operators_1.filter((data) => data.success), operators_1.switchMap(() => {\n            return rxjs_1.Observable.create((obs) => {\n                this.websocketSubject.next('clientID: ' + this.appIdSelector());\n                obs.next(null);\n            });\n        }), operators_1.delay(2000), operators_1.shareReplay());\n    }\n    unwatch(transactionId, address, network, nbConf) {\n        this.websocketSubject.next(this.createUnSubscribe(transactionId, address, network, nbConf));\n        return rxjs_1.of();\n    }\n    watch(id, address, network, nbConf) {\n        const ws = this.proxyInitialized.pipe(operators_1.switchMap(() => {\n            this.websocketSubject.next(this.createSubscribeRequest(id, address, network, nbConf));\n            return this.websocketObs;\n        }));\n        return ws;\n    }\n    createSubscribeRequest(transactionId, address, network, nbConf) {\n        return {\n            transactionID: transactionId,\n            action: 'subscribe',\n            clientURL: localStorage.getItem(`appID`),\n            network: network,\n            address: address,\n            requiredConf: nbConf,\n            onlyReqConf: false,\n        };\n    }\n    createUnSubscribe(transactionId, address, network, nbConf) {\n        const _a = this.createSubscribeRequest(transactionId, address, network, nbConf), { action } = _a, rest = __rest(_a, [\"action\"]);\n        return Object.assign({}, rest, { action: 'unsubscribe' });\n    }\n}\nexports.ProxiedWatcherProxy = ProxiedWatcherProxy;\n","import { Component, Input, NgModule, ViewChild, Injectable } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgxQRCodeModule } from 'ngx-qrcode2';\nimport { ThemeHelperService, ThemingModule } from 'interblockchain-styles';\nimport { __awaiter, __generator } from 'tslib';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar QrCodeComponent = /** @class */ (function () {\n    function QrCodeComponent() {\n    }\n    /**\n     * @return {?}\n     */\n    QrCodeComponent.prototype.ngOnInit = /**\n     * @return {?}\n     */\n    function () {\n    };\n    QrCodeComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'it-qr-code',\n                    template: \"<ngx-qrcode [qrc-value]=\\\"value\\\">\\n</ngx-qrcode>\",\n                    styles: [\"\"]\n                },] },\n    ];\n    /** @nocollapse */\n    QrCodeComponent.ctorParameters = function () { return []; };\n    QrCodeComponent.propDecorators = {\n        value: [{ type: Input }]\n    };\n    return QrCodeComponent;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar QrCodeModule = /** @class */ (function () {\n    function QrCodeModule() {\n    }\n    QrCodeModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [\n                        CommonModule,\n                        NgxQRCodeModule\n                    ],\n                    exports: [QrCodeComponent],\n                    declarations: [QrCodeComponent]\n                },] },\n    ];\n    return QrCodeModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar ProgressBarComponent = /** @class */ (function () {\n    function ProgressBarComponent(themeHelper) {\n        this.themeHelper = themeHelper;\n        this.radial = true;\n        this.SIZE = 120;\n        this.COLOR = this.themeHelper.secondaryColor;\n        this.RADIUS = 54;\n        this.CIRCUMFERENCE = 2 * Math.PI * this.RADIUS;\n    }\n    /**\n     * @return {?}\n     */\n    ProgressBarComponent.prototype.ngOnInit = /**\n     * @return {?}\n     */\n    function () {\n        this.value.nativeElement.style.strokeDasharray = this.CIRCUMFERENCE;\n    };\n    Object.defineProperty(ProgressBarComponent.prototype, \"roundedProgress\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return Math.ceil((this.progressCount / this.max) * 100);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ProgressBarComponent.prototype, \"progressValue\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            /** @type {?} */\n            var progress = this.roundedProgress / 100;\n            /** @type {?} */\n            var dashoffset = this.CIRCUMFERENCE * (1 - progress);\n            return dashoffset;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ProgressBarComponent.prototype, \"completed\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return this.progressCount === this.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ProgressBarComponent.prototype, \"progressCount\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return Math.min(this.progress, this.max);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ProgressBarComponent.prototype, \"progressWidth\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return (this.progressCount / this.max) * 100 + \"%\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ProgressBarComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'it-progress-bar',\n                    template: \"<div *ngIf=\\\"!radial\\\">\\n  <div class='progress-count' [class.success]='completed'>\\n    <span>\\n      {{progressCount}} / {{max}}\\n    </span>\\n  </div>\\n  <div class=\\\"progress\\\">\\n    <div class=\\\"progress-bar progress-bar-striped progress-bar-animated\\\" aria-valuemax=\\\"100\\\" [style.width]=\\\"progressWidth\\\"></div>\\n  </div>\\n</div>\\n<div class='progress-radial-container'>\\n  <svg class=\\\"progress-radial\\\" [attr.viewBox]=\\\"'0 0 ' + SIZE + ' ' + SIZE\\\">\\n    <circle class=\\\"progress__meter\\\" [attr.cx]=\\\"SIZE / 2\\\" [attr.cy]=\\\"SIZE / 2\\\" [attr.r]=\\\"RADIUS\\\" stroke-width=\\\"12\\\" />\\n    <circle #value class=\\\"progress__value\\\" [style.stroke]='COLOR' [style.strokeDashoffset]='progressValue' [attr.cx]=\\\"SIZE / 2\\\"\\n      [attr.cy]=\\\"SIZE / 2\\\" [attr.r]=\\\"RADIUS\\\" stroke-width=\\\"12\\\" />\\n  </svg>\\n  <span *ngIf='!completed'>{{progressCount}} / {{max}}</span>\\n  <span *ngIf='completed' class='fa fa-check' [style.color]='COLOR'></span>\\n</div>\",\n                    styles: [\".progress-count{border-radius:50%;padding:20px;border:5px solid #222;height:100px;width:100px;margin:20px auto;display:flex;justify-content:center;align-items:center}.progress-count.success{border:5px solid green}.progress-radial{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.progress__meter,.progress__value{fill:none}.progress__meter{stroke:#e6e6e6}.progress__value{stroke-linecap:round}.progress-radial-container{width:70px;height:70px;position:relative;display:flex;align-items:center;justify-content:center}.progress-radial-container .progress-radial{position:absolute}\"],\n                },] },\n    ];\n    /** @nocollapse */\n    ProgressBarComponent.ctorParameters = function () { return [\n        { type: ThemeHelperService }\n    ]; };\n    ProgressBarComponent.propDecorators = {\n        radial: [{ type: Input }],\n        progress: [{ type: Input }],\n        max: [{ type: Input }],\n        value: [{ type: ViewChild, args: ['value',] }]\n    };\n    return ProgressBarComponent;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar ProgressBarModule = /** @class */ (function () {\n    function ProgressBarModule() {\n    }\n    ProgressBarModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [\n                        CommonModule,\n                        ThemingModule\n                    ],\n                    declarations: [ProgressBarComponent],\n                    exports: [ProgressBarComponent]\n                },] },\n    ];\n    return ProgressBarModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/** @type {?} */\nvar abi = [\n    {\n        'constant': false,\n        'inputs': [\n            {\n                'name': '_spender',\n                'type': 'address'\n            },\n            {\n                'name': '_value',\n                'type': 'uint256'\n            }\n        ],\n        'name': 'approve',\n        'outputs': [\n            {\n                'name': 'success',\n                'type': 'bool'\n            }\n        ],\n        'payable': false,\n        'type': 'function'\n    },\n    {\n        'constant': true,\n        'inputs': [],\n        'name': 'totalSupply',\n        'outputs': [\n            {\n                'name': 'totalSupply',\n                'type': 'uint256'\n            }\n        ],\n        'payable': false,\n        'type': 'function'\n    },\n    {\n        'constant': false,\n        'inputs': [\n            {\n                'name': '_from',\n                'type': 'address'\n            },\n            {\n                'name': '_to',\n                'type': 'address'\n            },\n            {\n                'name': '_value',\n                'type': 'uint256'\n            }\n        ],\n        'name': 'transferFrom',\n        'outputs': [\n            {\n                'name': 'success',\n                'type': 'bool'\n            }\n        ],\n        'payable': false,\n        'type': 'function'\n    },\n    {\n        'constant': true,\n        'inputs': [\n            {\n                'name': '_owner',\n                'type': 'address'\n            }\n        ],\n        'name': 'balanceOf',\n        'outputs': [\n            {\n                'name': 'balance',\n                'type': 'uint256'\n            }\n        ],\n        'payable': false,\n        'type': 'function'\n    },\n    {\n        'constant': false,\n        'inputs': [\n            {\n                'name': '_to',\n                'type': 'address'\n            }, {\n                'name': '_value',\n                'type': 'uint256'\n            }\n        ],\n        'name': 'transfer',\n        'outputs': [\n            {\n                'name': 'success',\n                'type': 'bool'\n            }\n        ],\n        'payable': false,\n        'type': 'function'\n    },\n    {\n        'constant': true,\n        'inputs': [\n            {\n                'name': '_owner',\n                'type': 'address'\n            },\n            {\n                'name': '_spender',\n                'type': 'address'\n            }\n        ],\n        'name': 'allowance',\n        'outputs': [\n            {\n                'name': 'remaining',\n                'type': 'uint256'\n            }\n        ],\n        'payable': false,\n        'type': 'function'\n    },\n    {\n        'anonymous': false,\n        'inputs': [\n            {\n                'indexed': true,\n                'name': '_from',\n                'type': 'address'\n            },\n            {\n                'indexed': true,\n                'name': '_to',\n                'type': 'address'\n            },\n            {\n                'indexed': false,\n                'name': '_value',\n                'type': 'uint256'\n            }\n        ],\n        'name': 'Transfer',\n        'type': 'event'\n    },\n    {\n        'anonymous': false,\n        'inputs': [\n            {\n                'indexed': true,\n                'name': '_owner',\n                'type': 'address'\n            },\n            {\n                'indexed': true,\n                'name': '_spender',\n                'type': 'address'\n            },\n            {\n                'indexed': false,\n                'name': '_value',\n                'type': 'uint256'\n            }\n        ],\n        'name': 'Approval',\n        'type': 'event'\n    }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar MetamaskHelperService = /** @class */ (function () {\n    function MetamaskHelperService() {\n        this.ETH_TO_WEI_FACTOR = 100000000;\n        this.supportedTickers = [{\n                ticker: 'itBTC',\n                contract: '0xb398cebdc41d2935a438659da3f0b01fb583f339'\n            }, {\n                ticker: 'itLTC',\n                contract: '0x5f8cf21ca94819d17fd03c44e5078bfed71cfb34'\n            }, {\n                ticker: 'itBCH',\n                contract: '0xd1e7560e4b9c6ab0facb450446fbf64c6bd8490a'\n            }];\n    }\n    Object.defineProperty(MetamaskHelperService.prototype, \"hasSupport\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return typeof window.web3 !== 'undefined';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MetamaskHelperService.prototype, \"isLoggedIn\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return this.hasSupport && typeof window.web3.currentProvider === 'undefined';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} ticker\n     * @return {?}\n     */\n    MetamaskHelperService.prototype.isSupported = /**\n     * @param {?} ticker\n     * @return {?}\n     */\n    function (ticker) {\n        return this.supportedTickers.find(function (x) { return x.ticker.toUpperCase() === ticker.toUpperCase(); });\n    };\n    /**\n     * @param {?} __0\n     * @return {?}\n     */\n    MetamaskHelperService.prototype.payWithERC20 = /**\n     * @param {?} __0\n     * @return {?}\n     */\n    function (_a) {\n        var ticker = _a.ticker, sourceAddress = _a.sourceAddress, amount = _a.amount;\n        return __awaiter(this, void 0, void 0, function () {\n            var myContract, contract_data, receiver, wei_amount;\n            return __generator(this, function (_b) {\n                myContract = window.web3.eth.contract(abi);\n                contract_data = myContract.at(this.supportedTickers.find(function (x) { return x.ticker.toUpperCase() === ticker.toUpperCase(); }).contract);\n                receiver = sourceAddress;\n                wei_amount = Math.round(amount * this.ETH_TO_WEI_FACTOR);\n                // transfer is the function in the contract to transfer money from wallet A to B\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        contract_data.transfer(receiver, wei_amount, function (error, result) {\n                            if (!error) {\n                                resolve(result);\n                            }\n                            else {\n                                reject(error);\n                            }\n                        });\n                    })];\n            });\n        });\n    };\n    MetamaskHelperService.decorators = [\n        { type: Injectable },\n    ];\n    return MetamaskHelperService;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar QrCodeHelperService = /** @class */ (function () {\n    function QrCodeHelperService() {\n        this.supportedTickers = [\n            {\n                tickers: ['tBTC', 'BTC'],\n                prefix: 'bitcoin'\n            },\n            {\n                tickers: ['tBCH', 'BCH'],\n                prefix: 'bitcoincash'\n            },\n            {\n                tickers: ['tLTC', 'LTC'],\n                prefix: 'litecoin'\n            },\n            {\n                tickers: ['tETH', 'ETH'],\n                prefix: 'ethereum'\n            },\n            {\n                tickers: ['tXLM', 'XLM'],\n                prefix: 'xlm'\n            },\n            {\n                tickers: ['tXRP', 'XRP'],\n                prefix: 'xrp'\n            }\n        ];\n    }\n    /**\n     * @param {?} tickerToFind\n     * @return {?}\n     */\n    QrCodeHelperService.prototype.getPrefix = /**\n     * @param {?} tickerToFind\n     * @return {?}\n     */\n    function (tickerToFind) {\n        var prefix = (this.supportedTickers.find(\n        // Return true if tickers property contains tickerToFind\n        // Return true if tickers property contains tickerToFind\n        function (x) { return !!x.tickers.find(function (y) { return y.toUpperCase() === tickerToFind.toUpperCase(); }); }) || { prefix: undefined }).prefix;\n        return prefix;\n    };\n    /**\n     * @param {?} ticker\n     * @param {?} address\n     * @param {?} amount\n     * @return {?}\n     */\n    QrCodeHelperService.prototype.getQrString = /**\n     * @param {?} ticker\n     * @param {?} address\n     * @param {?} amount\n     * @return {?}\n     */\n    function (ticker, address, amount) {\n        /** @type {?} */\n        var prefix = this.getPrefix(ticker);\n        if (prefix) {\n            return prefix + \":\" + address + \"?amount=\" + amount;\n        }\n        else {\n            throw new Error(\"QrCode not supported for this currency: \" + ticker);\n        }\n    };\n    /**\n     * @param {?} ticker\n     * @return {?}\n     */\n    QrCodeHelperService.prototype.isSupported = /**\n     * @param {?} ticker\n     * @return {?}\n     */\n    function (ticker) {\n        return !!this.getPrefix(ticker);\n    };\n    QrCodeHelperService.decorators = [\n        { type: Injectable },\n    ];\n    return QrCodeHelperService;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\nexport { QrCodeModule, ProgressBarModule, abi, MetamaskHelperService, QrCodeHelperService, ProgressBarComponent as b, QrCodeComponent as a };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJibG9ja2NoYWluLWNvbXBvbmVudHMuanMubWFwIiwic291cmNlcyI6WyJuZzovL2ludGVyYmxvY2tjaGFpbi1jb21wb25lbnRzL2xpYi9xci1jb2RlL3FyLWNvZGUuY29tcG9uZW50LnRzIiwibmc6Ly9pbnRlcmJsb2NrY2hhaW4tY29tcG9uZW50cy9saWIvcXItY29kZS9xci1jb2RlLm1vZHVsZS50cyIsIm5nOi8vaW50ZXJibG9ja2NoYWluLWNvbXBvbmVudHMvbGliL3Byb2dyZXNzLWJhci9wcm9ncmVzcy1iYXIvcHJvZ3Jlc3MtYmFyLmNvbXBvbmVudC50cyIsIm5nOi8vaW50ZXJibG9ja2NoYWluLWNvbXBvbmVudHMvbGliL3Byb2dyZXNzLWJhci9wcm9ncmVzcy1iYXIubW9kdWxlLnRzIiwibmc6Ly9pbnRlcmJsb2NrY2hhaW4tY29tcG9uZW50cy9saWIvbWV0YW1hc2staGVscGVyL2FiaS50cyIsIm5nOi8vaW50ZXJibG9ja2NoYWluLWNvbXBvbmVudHMvbGliL21ldGFtYXNrLWhlbHBlci9tZXRhbWFzay1oZWxwZXIuc2VydmljZS50cyIsIm5nOi8vaW50ZXJibG9ja2NoYWluLWNvbXBvbmVudHMvbGliL3FyLWNvZGUtaGVscGVyL3FyLWNvZGUtaGVscGVyLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2l0LXFyLWNvZGUnLFxuICB0ZW1wbGF0ZTogYDxuZ3gtcXJjb2RlIFtxcmMtdmFsdWVdPVwidmFsdWVcIj5cbjwvbmd4LXFyY29kZT5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgUXJDb2RlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoKVxuICB2YWx1ZTtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIG5nT25Jbml0KCkge1xuICB9XG5cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmd4UVJDb2RlTW9kdWxlIH0gZnJvbSAnbmd4LXFyY29kZTInO1xuaW1wb3J0IHsgUXJDb2RlQ29tcG9uZW50IH0gZnJvbSAnLi9xci1jb2RlLmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgTmd4UVJDb2RlTW9kdWxlXG4gIF0sXG4gIGV4cG9ydHM6IFtRckNvZGVDb21wb25lbnRdLFxuICBkZWNsYXJhdGlvbnM6IFtRckNvZGVDb21wb25lbnRdXG59KVxuZXhwb3J0IGNsYXNzIFFyQ29kZU1vZHVsZSB7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGhlbWVIZWxwZXJTZXJ2aWNlIH0gZnJvbSAnaW50ZXJibG9ja2NoYWluLXN0eWxlcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2l0LXByb2dyZXNzLWJhcicsXG4gIHRlbXBsYXRlOiBgPGRpdiAqbmdJZj1cIiFyYWRpYWxcIj5cbiAgPGRpdiBjbGFzcz0ncHJvZ3Jlc3MtY291bnQnIFtjbGFzcy5zdWNjZXNzXT0nY29tcGxldGVkJz5cbiAgICA8c3Bhbj5cbiAgICAgIHt7cHJvZ3Jlc3NDb3VudH19IC8ge3ttYXh9fVxuICAgIDwvc3Bhbj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJwcm9ncmVzc1wiPlxuICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXIgcHJvZ3Jlc3MtYmFyLXN0cmlwZWQgcHJvZ3Jlc3MtYmFyLWFuaW1hdGVkXCIgYXJpYS12YWx1ZW1heD1cIjEwMFwiIFtzdHlsZS53aWR0aF09XCJwcm9ncmVzc1dpZHRoXCI+PC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG48ZGl2IGNsYXNzPSdwcm9ncmVzcy1yYWRpYWwtY29udGFpbmVyJz5cbiAgPHN2ZyBjbGFzcz1cInByb2dyZXNzLXJhZGlhbFwiIFthdHRyLnZpZXdCb3hdPVwiJzAgMCAnICsgU0laRSArICcgJyArIFNJWkVcIj5cbiAgICA8Y2lyY2xlIGNsYXNzPVwicHJvZ3Jlc3NfX21ldGVyXCIgW2F0dHIuY3hdPVwiU0laRSAvIDJcIiBbYXR0ci5jeV09XCJTSVpFIC8gMlwiIFthdHRyLnJdPVwiUkFESVVTXCIgc3Ryb2tlLXdpZHRoPVwiMTJcIiAvPlxuICAgIDxjaXJjbGUgI3ZhbHVlIGNsYXNzPVwicHJvZ3Jlc3NfX3ZhbHVlXCIgW3N0eWxlLnN0cm9rZV09J0NPTE9SJyBbc3R5bGUuc3Ryb2tlRGFzaG9mZnNldF09J3Byb2dyZXNzVmFsdWUnIFthdHRyLmN4XT1cIlNJWkUgLyAyXCJcbiAgICAgIFthdHRyLmN5XT1cIlNJWkUgLyAyXCIgW2F0dHIucl09XCJSQURJVVNcIiBzdHJva2Utd2lkdGg9XCIxMlwiIC8+XG4gIDwvc3ZnPlxuICA8c3BhbiAqbmdJZj0nIWNvbXBsZXRlZCc+e3twcm9ncmVzc0NvdW50fX0gLyB7e21heH19PC9zcGFuPlxuICA8c3BhbiAqbmdJZj0nY29tcGxldGVkJyBjbGFzcz0nZmEgZmEtY2hlY2snIFtzdHlsZS5jb2xvcl09J0NPTE9SJz48L3NwYW4+XG48L2Rpdj5gLFxuICBzdHlsZXM6IFtgLnByb2dyZXNzLWNvdW50e2JvcmRlci1yYWRpdXM6NTAlO3BhZGRpbmc6MjBweDtib3JkZXI6NXB4IHNvbGlkICMyMjI7aGVpZ2h0OjEwMHB4O3dpZHRoOjEwMHB4O21hcmdpbjoyMHB4IGF1dG87ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5wcm9ncmVzcy1jb3VudC5zdWNjZXNze2JvcmRlcjo1cHggc29saWQgZ3JlZW59LnByb2dyZXNzLXJhZGlhbHstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKC05MGRlZyl9LnByb2dyZXNzX19tZXRlciwucHJvZ3Jlc3NfX3ZhbHVle2ZpbGw6bm9uZX0ucHJvZ3Jlc3NfX21ldGVye3N0cm9rZTojZTZlNmU2fS5wcm9ncmVzc19fdmFsdWV7c3Ryb2tlLWxpbmVjYXA6cm91bmR9LnByb2dyZXNzLXJhZGlhbC1jb250YWluZXJ7d2lkdGg6NzBweDtoZWlnaHQ6NzBweDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnByb2dyZXNzLXJhZGlhbC1jb250YWluZXIgLnByb2dyZXNzLXJhZGlhbHtwb3NpdGlvbjphYnNvbHV0ZX1gXSxcbn0pXG5leHBvcnQgY2xhc3MgUHJvZ3Jlc3NCYXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgpXG4gIHJhZGlhbCA9IHRydWU7XG5cbiAgQElucHV0KClcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcblxuICBASW5wdXQoKVxuICBtYXg6IG51bWJlcjtcblxuICBwdWJsaWMgcmVhZG9ubHkgU0laRSA9IDEyMDtcbiAgcHVibGljIHJlYWRvbmx5IENPTE9SID0gdGhpcy50aGVtZUhlbHBlci5zZWNvbmRhcnlDb2xvcjtcbiAgcHVibGljIHJlYWRvbmx5IFJBRElVUyA9IDU0O1xuICBwdWJsaWMgcmVhZG9ubHkgQ0lSQ1VNRkVSRU5DRSA9IDIgKiBNYXRoLlBJICogdGhpcy5SQURJVVM7XG5cbiAgQFZpZXdDaGlsZCgndmFsdWUnKVxuICB2YWx1ZTogYW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgdGhlbWVIZWxwZXI6IFRoZW1lSGVscGVyU2VydmljZVxuICApIHsgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMudmFsdWUubmF0aXZlRWxlbWVudC5zdHlsZS5zdHJva2VEYXNoYXJyYXkgPSB0aGlzLkNJUkNVTUZFUkVOQ0U7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHJvdW5kZWRQcm9ncmVzcygpIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLnByb2dyZXNzQ291bnQgLyB0aGlzLm1heCkgKiAxMDApO1xuICB9XG5cbiAgcHVibGljIGdldCBwcm9ncmVzc1ZhbHVlKCkge1xuICAgIGNvbnN0IHByb2dyZXNzID0gdGhpcy5yb3VuZGVkUHJvZ3Jlc3MgLyAxMDA7XG4gICAgY29uc3QgZGFzaG9mZnNldCA9IHRoaXMuQ0lSQ1VNRkVSRU5DRSAqICgxIC0gcHJvZ3Jlc3MpO1xuICAgIHJldHVybiBkYXNob2Zmc2V0O1xuICB9XG5cbiAgcHVibGljIGdldCBjb21wbGV0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NDb3VudCA9PT0gdGhpcy5tYXg7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHByb2dyZXNzQ291bnQoKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKHRoaXMucHJvZ3Jlc3MsIHRoaXMubWF4KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgcHJvZ3Jlc3NXaWR0aCgpIHtcbiAgICByZXR1cm4gYCR7KHRoaXMucHJvZ3Jlc3NDb3VudCAvIHRoaXMubWF4KSAqIDEwMH0lYDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBUaGVtaW5nTW9kdWxlIH0gZnJvbSAnaW50ZXJibG9ja2NoYWluLXN0eWxlcyc7XG5pbXBvcnQgeyBQcm9ncmVzc0JhckNvbXBvbmVudCB9IGZyb20gJy4vcHJvZ3Jlc3MtYmFyL3Byb2dyZXNzLWJhci5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIFRoZW1pbmdNb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbUHJvZ3Jlc3NCYXJDb21wb25lbnRdLFxuICBleHBvcnRzOiBbUHJvZ3Jlc3NCYXJDb21wb25lbnRdXG59KVxuZXhwb3J0IGNsYXNzIFByb2dyZXNzQmFyTW9kdWxlIHsgfVxuIiwiZXhwb3J0IGxldCBhYmkgPSBbXG4gICAge1xuICAgICAgICAnY29uc3RhbnQnOiBmYWxzZSxcbiAgICAgICAgJ2lucHV0cyc6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdfc3BlbmRlcicsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnYWRkcmVzcydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ25hbWUnOiAnX3ZhbHVlJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICd1aW50MjU2J1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICAnbmFtZSc6ICdhcHByb3ZlJyxcbiAgICAgICAgJ291dHB1dHMnOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ25hbWUnOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnYm9vbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgJ3BheWFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3R5cGUnOiAnZnVuY3Rpb24nXG4gICAgfSxcbiAgICB7XG4gICAgICAgICdjb25zdGFudCc6IHRydWUsXG4gICAgICAgICdpbnB1dHMnOiBbXSxcbiAgICAgICAgJ25hbWUnOiAndG90YWxTdXBwbHknLFxuICAgICAgICAnb3V0cHV0cyc6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICd0b3RhbFN1cHBseScsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAndWludDI1NidcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgJ3BheWFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3R5cGUnOiAnZnVuY3Rpb24nXG4gICAgfSxcbiAgICB7XG4gICAgICAgICdjb25zdGFudCc6IGZhbHNlLFxuICAgICAgICAnaW5wdXRzJzogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICduYW1lJzogJ19mcm9tJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdhZGRyZXNzJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdfdG8nLFxuICAgICAgICAgICAgICAgICd0eXBlJzogJ2FkZHJlc3MnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICduYW1lJzogJ192YWx1ZScsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAndWludDI1NidcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgJ25hbWUnOiAndHJhbnNmZXJGcm9tJyxcbiAgICAgICAgJ291dHB1dHMnOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ25hbWUnOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnYm9vbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgJ3BheWFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3R5cGUnOiAnZnVuY3Rpb24nXG4gICAgfSxcbiAgICB7XG4gICAgICAgICdjb25zdGFudCc6IHRydWUsXG4gICAgICAgICdpbnB1dHMnOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ25hbWUnOiAnX293bmVyJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdhZGRyZXNzJ1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICAnbmFtZSc6ICdiYWxhbmNlT2YnLFxuICAgICAgICAnb3V0cHV0cyc6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdiYWxhbmNlJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICd1aW50MjU2J1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICAncGF5YWJsZSc6IGZhbHNlLFxuICAgICAgICAndHlwZSc6ICdmdW5jdGlvbidcbiAgICB9LFxuICAgIHtcbiAgICAgICAgJ2NvbnN0YW50JzogZmFsc2UsXG4gICAgICAgICdpbnB1dHMnOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ25hbWUnOiAnX3RvJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdhZGRyZXNzJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICduYW1lJzogJ192YWx1ZScsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAndWludDI1NidcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgJ25hbWUnOiAndHJhbnNmZXInLFxuICAgICAgICAnb3V0cHV0cyc6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdib29sJ1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICAncGF5YWJsZSc6IGZhbHNlLFxuICAgICAgICAndHlwZSc6ICdmdW5jdGlvbidcbiAgICB9LFxuICAgIHtcbiAgICAgICAgJ2NvbnN0YW50JzogdHJ1ZSxcbiAgICAgICAgJ2lucHV0cyc6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdfb3duZXInLFxuICAgICAgICAgICAgICAgICd0eXBlJzogJ2FkZHJlc3MnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICduYW1lJzogJ19zcGVuZGVyJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdhZGRyZXNzJ1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICAnbmFtZSc6ICdhbGxvd2FuY2UnLFxuICAgICAgICAnb3V0cHV0cyc6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdyZW1haW5pbmcnLFxuICAgICAgICAgICAgICAgICd0eXBlJzogJ3VpbnQyNTYnXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgICdwYXlhYmxlJzogZmFsc2UsXG4gICAgICAgICd0eXBlJzogJ2Z1bmN0aW9uJ1xuICAgIH0sXG4gICAge1xuICAgICAgICAnYW5vbnltb3VzJzogZmFsc2UsXG4gICAgICAgICdpbnB1dHMnOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ2luZGV4ZWQnOiB0cnVlLFxuICAgICAgICAgICAgICAgICduYW1lJzogJ19mcm9tJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdhZGRyZXNzJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnaW5kZXhlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgJ25hbWUnOiAnX3RvJyxcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdhZGRyZXNzJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnaW5kZXhlZCc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICduYW1lJzogJ192YWx1ZScsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAndWludDI1NidcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgJ25hbWUnOiAnVHJhbnNmZXInLFxuICAgICAgICAndHlwZSc6ICdldmVudCdcbiAgICB9LFxuICAgIHtcbiAgICAgICAgJ2Fub255bW91cyc6IGZhbHNlLFxuICAgICAgICAnaW5wdXRzJzogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICdpbmRleGVkJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdfb3duZXInLFxuICAgICAgICAgICAgICAgICd0eXBlJzogJ2FkZHJlc3MnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICdpbmRleGVkJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdfc3BlbmRlcicsXG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnYWRkcmVzcydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ2luZGV4ZWQnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdfdmFsdWUnLFxuICAgICAgICAgICAgICAgICd0eXBlJzogJ3VpbnQyNTYnXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgICduYW1lJzogJ0FwcHJvdmFsJyxcbiAgICAgICAgJ3R5cGUnOiAnZXZlbnQnXG4gICAgfVxuXTtcbiIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGFiaSB9IGZyb20gJy4vYWJpJztcbmRlY2xhcmUgbGV0IHdpbmRvdzogV2luZG93ICYgeyB3ZWIzOiBhbnkgfTtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE1ldGFtYXNrSGVscGVyU2VydmljZSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBFVEhfVE9fV0VJX0ZBQ1RPUiA9IDEwMDAwMDAwMDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN1cHBvcnRlZFRpY2tlcnMgPSBbe1xuICAgICAgICB0aWNrZXI6ICdpdEJUQycsXG4gICAgICAgIGNvbnRyYWN0OiAnMHhiMzk4Y2ViZGM0MWQyOTM1YTQzODY1OWRhM2YwYjAxZmI1ODNmMzM5J1xuICAgIH0sIHtcbiAgICAgICAgdGlja2VyOiAnaXRMVEMnLFxuICAgICAgICBjb250cmFjdDogJzB4NWY4Y2YyMWNhOTQ4MTlkMTdmZDAzYzQ0ZTUwNzhiZmVkNzFjZmIzNCdcbiAgICB9LCB7XG4gICAgICAgIHRpY2tlcjogJ2l0QkNIJyxcbiAgICAgICAgY29udHJhY3Q6ICcweGQxZTc1NjBlNGI5YzZhYjBmYWNiNDUwNDQ2ZmJmNjRjNmJkODQ5MGEnXG4gICAgfV07XG5cbiAgICBnZXQgaGFzU3VwcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cud2ViMyAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgfVxuXG4gICAgZ2V0IGlzTG9nZ2VkSW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc1N1cHBvcnQgJiYgdHlwZW9mIHdpbmRvdy53ZWIzLmN1cnJlbnRQcm92aWRlciA9PT0gJ3VuZGVmaW5lZCc7XG4gICAgfVxuXG4gICAgaXNTdXBwb3J0ZWQodGlja2VyOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VwcG9ydGVkVGlja2Vycy5maW5kKCh4KSA9PiB4LnRpY2tlci50b1VwcGVyQ2FzZSgpID09PSB0aWNrZXIudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcGF5V2l0aEVSQzIwKHsgdGlja2VyLCBzb3VyY2VBZGRyZXNzLCBhbW91bnQgfSkge1xuICAgICAgICBjb25zdCBteUNvbnRyYWN0OiBhbnkgPSB3aW5kb3cud2ViMy5ldGguY29udHJhY3QoYWJpKTtcbiAgICAgICAgY29uc3QgY29udHJhY3RfZGF0YTogYW55ID0gbXlDb250cmFjdC5hdChcbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkVGlja2Vycy5maW5kKCh4KSA9PiB4LnRpY2tlci50b1VwcGVyQ2FzZSgpID09PSB0aWNrZXIudG9VcHBlckNhc2UoKSkuY29udHJhY3RcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcmVjZWl2ZXI6IGFueSA9IHNvdXJjZUFkZHJlc3M7XG4gICAgICAgIGNvbnN0IHdlaV9hbW91bnQgPSBNYXRoLnJvdW5kKGFtb3VudCAqIHRoaXMuRVRIX1RPX1dFSV9GQUNUT1IpO1xuICAgICAgICAvLyB0cmFuc2ZlciBpcyB0aGUgZnVuY3Rpb24gaW4gdGhlIGNvbnRyYWN0IHRvIHRyYW5zZmVyIG1vbmV5IGZyb20gd2FsbGV0IEEgdG8gQlxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29udHJhY3RfZGF0YS50cmFuc2ZlcihyZWNlaXZlciwgd2VpX2Ftb3VudCwgKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUXJDb2RlSGVscGVyU2VydmljZSB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHN1cHBvcnRlZFRpY2tlcnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRpY2tlcnM6IFsndEJUQycsICdCVEMnXSxcbiAgICAgICAgICAgIHByZWZpeDogJ2JpdGNvaW4nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRpY2tlcnM6IFsndEJDSCcsICdCQ0gnXSxcbiAgICAgICAgICAgIHByZWZpeDogJ2JpdGNvaW5jYXNoJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0aWNrZXJzOiBbJ3RMVEMnLCAnTFRDJ10sXG4gICAgICAgICAgICBwcmVmaXg6ICdsaXRlY29pbidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdGlja2VyczogWyd0RVRIJywgJ0VUSCddLFxuICAgICAgICAgICAgcHJlZml4OiAnZXRoZXJldW0nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRpY2tlcnM6IFsndFhMTScsICdYTE0nXSxcbiAgICAgICAgICAgIHByZWZpeDogJ3hsbSdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdGlja2VyczogWyd0WFJQJywgJ1hSUCddLFxuICAgICAgICAgICAgcHJlZml4OiAneHJwJ1xuICAgICAgICB9XG4gICAgXTtcblxuICAgIHByaXZhdGUgZ2V0UHJlZml4KHRpY2tlclRvRmluZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHsgcHJlZml4IH0gPSB0aGlzLnN1cHBvcnRlZFRpY2tlcnMuZmluZChcbiAgICAgICAgICAgIC8vIFJldHVybiB0cnVlIGlmIHRpY2tlcnMgcHJvcGVydHkgY29udGFpbnMgdGlja2VyVG9GaW5kXG4gICAgICAgICAgICB4ID0+ICEheC50aWNrZXJzLmZpbmQoKHkpID0+IHkudG9VcHBlckNhc2UoKSA9PT0gdGlja2VyVG9GaW5kLnRvVXBwZXJDYXNlKCkpXG4gICAgICAgICkgfHwgeyBwcmVmaXg6IHVuZGVmaW5lZCB9O1xuICAgICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cblxuICAgIGdldFFyU3RyaW5nKHRpY2tlcjogc3RyaW5nLCBhZGRyZXNzOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IHRoaXMuZ2V0UHJlZml4KHRpY2tlcik7XG4gICAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtwcmVmaXh9OiR7YWRkcmVzc30/YW1vdW50PSR7YW1vdW50fWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFFyQ29kZSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGN1cnJlbmN5OiAke3RpY2tlcn1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzU3VwcG9ydGVkKHRpY2tlcjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZ2V0UHJlZml4KHRpY2tlcik7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtJQWFFO0tBQWlCOzs7O0lBRWpCLGtDQUFROzs7SUFBUjtLQUNDOztnQkFk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","import { Injectable, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar ThemeHelperService = /** @class */ (function () {\n    function ThemeHelperService() {\n    }\n    /**\n     * @param {?} variableName\n     * @return {?}\n     */\n    ThemeHelperService.prototype.getVariable = /**\n     * @param {?} variableName\n     * @return {?}\n     */\n    function (variableName) {\n        return window.getComputedStyle(window.document.documentElement).getPropertyValue(\"--\" + variableName);\n    };\n    Object.defineProperty(ThemeHelperService.prototype, \"primaryColor\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return this.getVariable('primary-color');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ThemeHelperService.prototype, \"secondaryColor\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return this.getVariable('secondary-color');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ThemeHelperService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ThemeHelperService.ctorParameters = function () { return []; };\n    return ThemeHelperService;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar ThemingModule = /** @class */ (function () {\n    function ThemingModule() {\n    }\n    ThemingModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [\n                        CommonModule\n                    ],\n                    declarations: [],\n                    providers: [ThemeHelperService]\n                },] },\n    ];\n    return ThemingModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\nexport { ThemingModule, ThemeHelperService };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJibG9ja2NoYWluLXN0eWxlcy5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vaW50ZXJibG9ja2NoYWluLXN0eWxlcy9saWIvdGhlbWluZy90aGVtZS1oZWxwZXIuc2VydmljZS50cyIsIm5nOi8vaW50ZXJibG9ja2NoYWluLXN0eWxlcy9saWIvdGhlbWluZy90aGVtaW5nLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBUaGVtZUhlbHBlclNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgZ2V0VmFyaWFibGUodmFyaWFibGVOYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUod2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShgLS0ke3ZhcmlhYmxlTmFtZX1gKTtcbiAgfVxuXG4gIGdldCBwcmltYXJ5Q29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VmFyaWFibGUoJ3ByaW1hcnktY29sb3InKTtcbiAgfVxuXG4gIGdldCBzZWNvbmRhcnlDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRWYXJpYWJsZSgnc2Vjb25kYXJ5LWNvbG9yJyk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBUaGVtZUhlbHBlclNlcnZpY2UgfSBmcm9tICcuL3RoZW1lLWhlbHBlci5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtdLFxuICBwcm92aWRlcnM6IFtUaGVtZUhlbHBlclNlcnZpY2VdXG59KVxuZXhwb3J0IGNsYXNzIFRoZW1pbmdNb2R1bGUgeyB9XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0lBS0U7S0FBaUI7Ozs7O0lBRWpCLHdDQUFXOzs7O0lBQVgsVUFBWSxZQUFvQjtRQUM5QixPQUFPLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE9BQUssWUFBYyxDQUFDLENBQUM7S0FDdkc7SUFFRCxzQkFBSSw0Q0FBWTs7OztRQUFoQjtZQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUMxQzs7O09BQUE7SUFFRCxzQkFBSSw4Q0FBYzs7OztRQUFsQjtZQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1NBQzVDOzs7T0FBQTs7Z0JBZkYsVUFBVTs7Ozs2QkFGWDs7Ozs7OztBQ0FBOzs7O2dCQUlDLFFBQVEsU0FBQztvQkFDUixPQUFPLEVBQUU7d0JBQ1AsWUFBWTtxQkFDYjtvQkFDRCxZQUFZLEVBQUUsRUFBRTtvQkFDaEIsU0FBUyxFQUFFLENBQUMsa0JBQWtCLENBQUM7aUJBQ2hDOzt3QkFWRDs7Ozs7Ozs7Ozs7Ozs7OyJ9","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"<div class='container'>\\n  <router-outlet></router-outlet>\\n</div>\"","module.exports = \":host {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 10px; }\\n\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'app';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppComponent } from './app.component';\nimport { PaymentComponent } from './pages/payment/payment.component';\nimport { QrCodeModule } from 'interblockchain-components';\nimport { PaymentSelectionComponent } from './pages/payment-selection/payment-selection.component';\nimport { ConfirmationsComponent } from './pages/confirmations/confirmations.component';\nimport { SummaryComponent } from './pages/summary/summary.component';\nimport { KeyFactoryService } from './services/key-factory/key-factory.service';\nimport { PaymentSwService } from './services/payment-sw/payment-sw.service';\nimport { ProgressBarModule } from 'interblockchain-components';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    PaymentComponent,\n    PaymentSelectionComponent,\n    ConfirmationsComponent,\n    SummaryComponent,\n  ],\n  imports: [\n    HttpClientModule,\n    BrowserModule,\n    QrCodeModule,\n    ProgressBarModule,\n    RouterModule.forRoot([\n      { path: '', pathMatch: 'full', component: PaymentSelectionComponent },\n      { path: 'payment', pathMatch: 'full', component: PaymentComponent },\n      { path: 'confirmations', component: ConfirmationsComponent },\n      // { path: 'summary', pathMatch: 'full', component: SummaryComponent }\n    ])\n  ],\n  providers: [KeyFactoryService, PaymentSwService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n  constructor(sw: PaymentSwService) {\n    sw.init();\n  }\n}\n","module.exports = \"<div class='confirmations-container' *ngIf='validation | async as validation'>\\n  <h3>Your transaction is in progress</h3>\\n  Amount {{validation.amount}} {{validation.ticker}}\\n  <it-progress-bar [progress]='validation.currentNbConf' [max]='validation.requiredNbConf'></it-progress-bar>\\n\\n  <div *ngIf='validation.isCompleted'>\\n    <button (click)='confirm()'>Return to merchant site</button>\\n  </div>\\n</div>\"","module.exports = \".confirmations-container {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { PaymentSwService } from '../../services/payment-sw/payment-sw.service';\nimport { map } from 'rxjs/operators';\nimport { combineLatest } from 'rxjs';\n\n@Component({\n  selector: 'app-confirmations',\n  templateUrl: './confirmations.component.html',\n  styleUrls: ['./confirmations.component.scss']\n})\nexport class ConfirmationsComponent implements OnInit {\n\n  public validation = combineLatest(\n    this.sw.currentValidation,\n    this.sw.currentTransaction\n  ).pipe(\n    map(([{ info, isCompleted }, tx]) => ({\n      currentNbConf: info.currentNbConf,\n      requiredNbConf: info.requiredNbConf,\n      ticker: info.network,\n      amount: tx.amount,\n      isCompleted,\n    }))\n  );\n\n  constructor(\n    private sw: PaymentSwService,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  confirm() {\n    this.sw.confirmPayment();\n  }\n\n}\n","module.exports = \"<div class='center-content logo-container'>\\n  <h4>Please the cryptocurrency you wish to pay with</h4>\\n  <div class='logo-container row'>\\n    <div class='logo-div center-content' *ngFor='let currency of supportedCurrencies | async'>\\n      <div class='logo' (click)='select(currency)'>\\n        <img class='logo-image' [class.grow]='selectedCurrency === currency' [src]='baseHref + \\\"assets/\\\" + currency.logo' />\\n      </div>\\n      <br>\\n      {{currency.name}}\\n    </div>\\n  </div>\\n  <br>\\n  <button *ngIf='selectedCurrency' (click)='submit()' class='btn btn-primary'>Pay with {{selectedCurrency.name}}</button>\\n</div>\"","module.exports = \".logo-container {\\n  width: 100%;\\n  max-width: 640px;\\n  justify-content: space-between;\\n  margin: 0 auto; }\\n  .logo-container .logo-div {\\n    min-width: 100px;\\n    margin: 0 auto; }\\n  .logo-container .logo-div .logo {\\n      height: 70px;\\n      width: 70px;\\n      margin-top: 20px;\\n      cursor: pointer; }\\n  .logo-container .logo-div .logo .logo-image {\\n        border-radius: 50%;\\n        box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.1);\\n        background-color: white;\\n        width: 100%;\\n        margin-bottom: 5px;\\n        transition: -webkit-transform .2s;\\n        transition: transform .2s;\\n        transition: transform .2s, -webkit-transform .2s; }\\n  .logo-container .logo-div .logo .logo-image.grow, .logo-container .logo-div .logo .logo-image:hover {\\n          -webkit-transform: scale(1.3);\\n                  transform: scale(1.3); }\\n\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { environment } from '../../../environments/environment';\nimport { Router } from '@angular/router';\nimport { PaymentSwService } from '../../services/payment-sw/payment-sw.service';\nimport { CurrencySelectionService } from '../../services/currency-selection/currency-selection.service';\nimport { APP_BASE_HREF, PlatformLocation } from '@angular/common';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-payment-selection',\n  templateUrl: './payment-selection.component.html',\n  styleUrls: ['./payment-selection.component.scss']\n})\nexport class PaymentSelectionComponent implements OnInit {\n\n  private readonly BOOTSTRAP_MAX_COL = 12;\n  private readonly MIN_COL_SIZE = 3;\n\n  public selectedCurrency = null;\n\n  get baseHref(): string {\n    return this.platformLocation.getBaseHrefFromDOM();\n  }\n\n  public supportedCurrencies = this.sw.augmentedSwMessage.pipe(\n    map(({ acceptedTokens }) => {\n      const currencyReg = /^[t|T]?(.*)$/;\n      // return environment.supportedCurrencies;\n      return environment.supportedCurrencies\n        .filter(\n          (x) => [...acceptedTokens, { ticker: 'BTC' }, { ticker: 'LTC' }, { ticker: 'BCH' }]\n            .find(\n              (y) => y.ticker.toUpperCase() === currencyReg.exec(x.ticker)[1].toUpperCase()\n            )\n        );\n    })\n  );\n  public colSize = this.supportedCurrencies.pipe((map((results) => Math.max(this.BOOTSTRAP_MAX_COL / results.length, this.MIN_COL_SIZE))));\n\n  constructor(\n    private router: Router,\n    private selectionService: CurrencySelectionService,\n    private sw: PaymentSwService,\n    private platformLocation: PlatformLocation,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  public select(currency: string) {\n    this.selectedCurrency = currency;\n  }\n\n  public submit() {\n    this.router.navigate(['/payment']).then(() => {\n      this.selectionService.select(this.selectedCurrency.ticker);\n    });\n  }\n\n}\n","module.exports = \"<div class='container' *ngIf='currentTransaction | async as transaction'>\\n  Amount: {{transaction.converted.value}} {{transaction.converted.currency}}\\n  <span class='small text-muted'>Original amount: {{transaction.original.value}} {{transaction.original.currency}}</span>\\n  <span class='small text-muted'>Rate conversion done by: <a href='http://coinmarketcap.com' target='_blank'>http://coinmarketcap.com</a></span>\\n  <img class='logo-image' [src]='baseHref + \\\"assets/\\\" + (logo | async)' />\\n  <div *ngIf='error' class='alert-danger'>An error occurred. The payment could not be competed</div>\\n  <it-qr-code *ngIf='isQrCode | async' [value]='transaction.qrCode'></it-qr-code>\\n  <div *ngIf='isMetamask | async' class=\\\"text-center\\\">\\n    <button type=\\\"button\\\" (click)=\\\"payWithMetamask()\\\" class=\\\"btn btn-primary\\\">Pay with Metamask</button>\\n  </div>\\n  <br>\\n  {{transaction.toAddress}}\\n  <input #addressInput type='text' style='position: absolute; top:-9999999px' [value]='transaction.toAddress' />\\n  <button (click)='copy()' class='btn btn-primary'>Copy</button>\\n</div>\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center; }\\n  :host .logo-image {\\n    width: 30px;\\n    height: 30px;\\n    margin-top: 10px; }\\n  :host .container {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center; }\\n\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { KeyFactoryService } from '../../services/key-factory/key-factory.service';\nimport { map, switchMap } from 'rxjs/operators';\nimport { PaymentSwService } from '../../services/payment-sw/payment-sw.service';\nimport { ValidationService } from '../../services/validation/validation.service';\nimport { Router } from '@angular/router';\nimport { MetamaskHelperService } from 'interblockchain-components';\nimport { QrCodeHelperService } from 'interblockchain-components';\nimport { environment } from '../../../environments/environment';\nimport { PlatformLocation } from '@angular/common';\n\n@Component({\n  selector: 'app-payment',\n  templateUrl: './payment.component.html',\n  styleUrls: ['./payment.component.scss'],\n  providers: [MetamaskHelperService, QrCodeHelperService]\n})\nexport class PaymentComponent implements OnInit {\n\n  public error = false;\n\n  @ViewChild('addressInput')\n  addressInput: ElementRef;\n\n  get baseHref(): string {\n    return this.platformLocation.getBaseHrefFromDOM();\n  }\n\n  public currentTransaction = this.sw.currentTransaction.pipe(\n    map(({ toAddress, amount, network, ...rest }) => {\n      return {\n        toAddress,\n        amount,\n        network,\n        ...rest,\n        qrCode: this.qrCodeHelper.getQrString(network, toAddress, amount),\n      };\n    }));\n\n  public logo = this.currentTransaction.pipe(\n    map((x) => environment.supportedCurrencies.find((w => w.ticker.toUpperCase() === x.converted.currency.toUpperCase())).logo)\n  );\n\n  isMetamask = this.currentTransaction.pipe(map(({ converted: { currency } }) => this.metamaskHelper.isSupported(currency)));\n\n  isQrCode = this.currentTransaction.pipe(map(({ converted: { currency } }) => {\n    return this.qrCodeHelper.isSupported(currency);\n  }));\n\n  constructor(\n    private sw: PaymentSwService,\n    private metamaskHelper: MetamaskHelperService,\n    private qrCodeHelper: QrCodeHelperService,\n    private platformLocation: PlatformLocation\n  ) { }\n\n  ngOnInit() {\n    this.sw.currentValidation.subscribe(() => {\n      this.sw.confirmPayment();\n    });\n  }\n\n  copy() {\n    this.addressInput.nativeElement.select();\n    document.execCommand('copy');\n  }\n\n  payWithMetamask() {\n    this.currentTransaction.subscribe((tx) => {\n      this.metamaskHelper.payWithERC20({\n        amount: tx.amount,\n        sourceAddress: tx.toAddress,\n        ticker: tx.converted.currency,\n      }).catch((err) => {\n        console.error(err);\n        this.error = true;\n      });\n    });\n  }\n}\n","module.exports = \"<p>\\n  summary works!\\n</p>\\n\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-summary',\n  templateUrl: './summary.component.html',\n  styleUrls: ['./summary.component.scss']\n})\nexport class SummaryComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\n\ninterface Account {\n  merchantID: string;\n  acceptedTokens: AcceptedToken[];\n}\n\ninterface AcceptedToken {\n  network: string;\n  ticker: string;\n  address: string;\n  USDconversion: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AccountsService {\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  getAccount(id: string) {\n    return this.http.get<Account>(`${environment.accountUrl}?id=${id}`);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\nimport { environment } from '../../../environments/environment';\n\ninterface CoinMarketCapPayload {\n  data: Data;\n  metadata: Metadata;\n}\n\ninterface Metadata {\n  timestamp: number;\n  error?: any;\n}\n\ninterface Data {\n  id: number;\n  name: string;\n  symbol: string;\n  website_slug: string;\n  rank: number;\n  circulating_supply: number;\n  total_supply: number;\n  max_supply?: any;\n  quotes: Quotes;\n  last_updated: number;\n}\n\ninterface Quotes {\n  [key: string]: CurrencyData;\n}\n\ninterface CurrencyData {\n  price: number;\n  volume_24h: number;\n  market_cap: number;\n  percent_change_1h: number;\n  percent_change_24h: number;\n  percent_change_7d: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CurrencyConverterService {\n\n  private apiUrl = 'https://api.coinmarketcap.com';\n\n  constructor(\n    private http: HttpClient,\n  ) { }\n\n  private getIDFromCurrency(currency: string) {\n    return environment.supportedCurrencies.find((x) => x.ticker === currency).apiId;\n  }\n\n  convert({ currency, value }, toCurrency: 'BTC' | 'tBTC') {\n    const toCurrencyID = this.getIDFromCurrency(toCurrency);\n    const currencyReg = /^t?(.*)$/; // TODO(simon) use a safer way to query amount from test net to main net\n    return this.http.get<CoinMarketCapPayload>(\n      `${this.apiUrl}/v2/ticker/${toCurrencyID}/?convert=${currencyReg.exec(currency)[1]}`\n    )\n      .pipe(map(({ data: { quotes } }) => {\n        const changeRate = Number(quotes[currency].price);\n        return {\n          currency: toCurrency,\n          value: (Number(value) / changeRate).toFixed(6),\n        };\n      }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject, ReplaySubject, Observable, BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CurrencySelectionService {\n\n  private _selectedCurrency = new ReplaySubject();\n\n  public get selectedCurrency() {\n    // return new BehaviorSubject('tBTC');\n    return this._selectedCurrency.asObservable();\n  }\n\n  constructor() { }\n\n  select(currency: string) {\n    this._selectedCurrency.next(currency);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\n\nexport interface KeyFactoryResponse {\n  id: string;\n  token: string;\n  key: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class KeyFactoryService {\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  public getKey(id: string, ticker: string) {\n    return this.http.get<KeyFactoryResponse>(`${environment.keyFactory}${id}/${ticker}`);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\nimport { catchError } from 'rxjs/operators';\n\ninterface LedgerTransaction {\n  accountID: string;\n  currency: string;\n  amount: number;\n  from: string;\n  provider: string;\n  initialValue: string;\n}\n\ninterface LedgerAccount {\n  accountID: string;\n  currency: string;\n  note: string;\n  folio: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LedgerService {\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  private headers({ apiKey }) {\n    const headers = new HttpHeaders({ 'apicode': apiKey, 'Content-Type': 'application/json' });\n    return { headers };\n  }\n\n  createAccount(account: LedgerAccount, apiKey): Observable<{}> {\n    // return Observable.create((obs) => obs.next());\n    return this.http.post(`${environment.ledgerUrl}create`, { ...account }, {\n      responseType: 'text',\n      observe: 'response',\n      ...this.headers({ apiKey })\n    }).pipe(catchError(() => of()));\n  }\n\n  createTx(tx: LedgerTransaction, apiKey: string): Observable<{}> {\n    return this.http.post(`${environment.ledgerUrl}tx`, { ...tx, operation: '+' }, {\n      responseType: 'text',\n      observe: 'response',\n      ...this.headers({ apiKey })\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { KeyFactoryService } from '../key-factory/key-factory.service';\nimport { Observable, BehaviorSubject, of, ReplaySubject } from 'rxjs';\nimport { map, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { AddressValidation } from '@interblockchain/validator/dist/address-validation';\nimport { ValidationService } from '../validation/validation.service';\nimport { LedgerService } from '../ledger/ledger.service';\nimport { uuidv4, mockData, currencyToNetwork } from '../../utils';\nimport { CurrencyConverterService } from '../currency-converter/currency-converter.service';\nimport { environment } from '../../../environments/environment';\nimport { CurrencySelectionService } from '../currency-selection/currency-selection.service';\nimport { AccountsService } from '../accounts/accounts.service';\nimport { PaymentRequestData, Transaction } from './interfaces';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PaymentSwService {\n  private swMessageSubject = environment.mockData ?\n    new BehaviorSubject<PaymentRequestData>(mockData) : new ReplaySubject<PaymentRequestData>();\n\n  public augmentedSwMessage = this.swMessageSubject.pipe(\n    switchMap((message) => {\n      return this.accountsService.getAccount('12345678').pipe(map(({ acceptedTokens }) => ({ ...message, acceptedTokens })));\n    }),\n    shareReplay(),\n  );\n\n  public selectionDoneMessage = this.augmentedSwMessage.pipe(\n    switchMap(({ total, methodData, acceptedTokens }) => {\n      return this.currenySelection.selectedCurrency.pipe(\n        switchMap((selectedCurrency: string) => {\n          return this.currencyConverter.convert(total, selectedCurrency as any)\n            .pipe(\n              map((converted) => ({ converted, original: total, methodData, selectedCurrency, acceptedTokens }))\n            );\n        }),\n      );\n    }),\n    shareReplay()\n  );\n  public currentTransaction: Observable<Transaction>;\n  public currentValidation: Observable<AddressValidation>;\n  private paymentRequestClient: ServiceWorker;\n\n  private details;\n\n  private writeTransactionInLedger = switchMap<Transaction, Transaction>((tx) => {\n    return this.selectionDoneMessage.pipe(\n      switchMap(({ methodData, selectedCurrency }) => {\n        const { data: { apiKey } } = methodData.find((x) => x.supportedMethods === environment.methodName);\n        const uuid = uuidv4();\n        return this.ledger.createAccount({\n          accountID: uuid,\n          currency: selectedCurrency,\n          folio: tx.toAddress,\n          note: 'test'\n        }, apiKey).pipe(\n          tap(console.log),\n          switchMap(() => {\n            return this.ledger.createTx({\n              accountID: uuid,\n              amount: tx.amount,\n              currency: selectedCurrency,\n              provider: 'test',\n              from: 'test',\n              initialValue: '0'\n            }, apiKey).pipe(\n              map(_ => tx)\n            );\n          }));\n      }));\n  });\n\n  private watchingConfirmationsAndMapToValidation = switchMap((\n    { amount, id, nbConf, network, toAddress }\n  ) => {\n    return this.validation.watch({ address: toAddress, amount, id, nbConf, network });\n  });\n\n  private setDetails = tap<AddressValidation>((v) => {\n    if (v.isCompleted) {\n      this.details = {\n        amount: v.info.amount,\n        address: v.info.addresses[0].address,\n        txHash: v.info.txHash,\n      };\n    }\n  });\n\n  private getPaymentKeyAndCreateTransaction = switchMap(({ original, converted: { currency, value }, acceptedTokens }) => {\n    const result = {\n      amount: value,\n      nbConf: 0,\n      network: currencyToNetwork(currency).toUpperCase(),\n      id: uuidv4(),\n      original,\n      converted: { currency, value },\n    };\n\n    if (['TBTC', 'TLTC', 'TBCH'].find((x) => x === currency.toUpperCase())) {\n      return this.keyFactory.getKey(uuidv4(), currency).pipe(map(({ key }) => {\n        return {\n          toAddress: key,\n          ...result\n        };\n      }));\n    } else {\n      const { address } = acceptedTokens.find((x) =>\n        x.ticker.toUpperCase() === currency.toUpperCase() ||\n        `t${x.ticker}`.toUpperCase() === currency.toUpperCase()\n      );\n      return of({\n        toAddress: address,\n        ...result\n      });\n    }\n  });\n\n  constructor(\n    private validation: ValidationService,\n    private ledger: LedgerService,\n    private currencyConverter: CurrencyConverterService,\n    private currenySelection: CurrencySelectionService,\n    private accountsService: AccountsService,\n    private keyFactory: KeyFactoryService,\n  ) {\n    this.currentTransaction = this.selectionDoneMessage.pipe(\n      this.getPaymentKeyAndCreateTransaction,\n      shareReplay()\n    );\n\n\n    this.currentValidation = this.currentTransaction.pipe(\n      this.writeTransactionInLedger,\n      this.watchingConfirmationsAndMapToValidation,\n      this.setDetails\n    );\n  }\n\n  init() {\n    if (navigator.serviceWorker) {\n      navigator.serviceWorker.addEventListener('message', (e: { source: any, data: PaymentRequestData }) => {\n        this.paymentRequestClient = e.source;\n        this.swMessageSubject.next(e.data);\n        console.log(e);\n      });\n    }\n\n    if (navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage('payment_app_window_ready');\n    }\n  }\n\n  public confirmPayment() {\n    const paymentAppResponse = {\n      methodName: 'https://carte7000-payment-demo.herokuapp.com/pay',\n      details: this.details,\n    };\n\n    this.paymentRequestClient.postMessage(paymentAppResponse);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  ValidatorFactory,\n  WatcherProxy,\n  CachedWatcherProxy,\n  ISingleValidationRequest,\n  CombinedWatcherProxy\n} from '@interblockchain/validator/dist/browser';\nimport { Validator } from '@interblockchain/validator/dist/validator/validator';\nimport { environment } from '../../../environments/environment';\nimport { uuidv4 } from '../../utils';\nimport { of } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ValidationService {\n  private validator: Validator;\n\n  constructor() {\n    const utxoConfig = ({\n      url: environment.utxoWatcherUrl,\n      params: { headers: { apiKey: environment.watchersApiKey } }\n    });\n\n    const accountConfig = ({\n      url: environment.accountWatcherUrl,\n      params: { headers: { apiKey: environment.watchersApiKey } }\n    });\n\n    const utxoWatcherProxy = new WatcherProxy(environment.wsProxyUrl, () => localStorage.getItem('appID'), utxoConfig);\n    const accountWatcherProxy = new WatcherProxy(environment.wsProxyUrl, () => localStorage.getItem('appID'), accountConfig);\n\n    const watcherProxy = new CombinedWatcherProxy([\n      {\n        proxy: utxoWatcherProxy,\n        supportedNetwork: ['tBTC', 'tLTC', 'tETH', 'BTC', 'LTC', 'ETH']\n      },\n      {\n        proxy: accountWatcherProxy,\n        supportedNetwork: ['tXRP', 'tXLM', 'XLM', 'XRP']\n      }\n    ]);\n\n    const cachedWatcherProxy = new CachedWatcherProxy(watcherProxy);\n    this.validator = ValidatorFactory.create(cachedWatcherProxy);\n  }\n\n  watch(request: ISingleValidationRequest) {\n    return this.validator.validateSingleTransaction(request);\n  }\n}\n","export const uuidv4 = () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        // tslint:disable-next-line:no-bitwise\n        const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n};\n\nexport const netPrefix = (network: string) => `t${network}`;\n\nexport const mockData = {\n    total: { value: 55, currency: 'USD' }, methodData: [{\n        supportedMethods: 'https://carte7000-payment-demo.herokuapp.com/pay', data: {\n            apiKey: '85732589752hjfslkjhf',\n            supportedTokens: ['tBTC']\n        }\n    }]\n};\n\nexport const currencyToNetwork = (currency: string) => {\n    return /^[i|I][t|T](.*)$/.test(currency) ? netPrefix('ETH') : currency;\n};\n\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  mockData: false,\n  // keyFactory: 'http://142.93.60.68:5080/api/v1/getaddress/',\n  // wsProxyUrl: 'ws://178.128.230.11:8080/',\n  // ledgerUrl: 'http://138.197.156.204:8081/',\n  // accountUrl: 'http://178.128.230.11:8096/api/v1/accounts',\n  methodName: 'https://carte7000-payment-demo.herokuapp.com/pay',\n  utxoWatcherUrl: 'ws://206.189.191.247:7999/BTCnet/ws-validator',\n  accountWatcherUrl: 'ws://206.189.191.247:7999/XLMnet/ws-validator',\n  watchersApiKey: '42ad9bf1-1706-4104-901f-8d59d927dc5d',\n  supportedCurrencies: [\n    {\n      name: 'Bitcoin',\n      logo: 'btc.png',\n      ticker: 'tBTC',\n      apiId: 1,\n    },\n    // {\n    //   name: 'Interblockchain Bitcoin',\n    //   logo: 'btc.png',\n    //   ticker: 'itBTC',\n    //   apiId: 1,\n    // },\n    {\n      name: 'Stellar Lumens',\n      logo: 'xlm.png',\n      ticker: 'tXLM',\n      apiId: 512\n    },\n    {\n      name: 'XRP',\n      logo: 'xrp.png',\n      ticker: 'tXRP',\n      apiId: 52\n    },\n    {\n      name: 'Ethereum',\n      logo: 'eth.png',\n      ticker: 'ETH',\n      apiId: 1027\n    },\n    {\n      name: 'Bitcoin Cash',\n      logo: 'bch.png',\n      ticker: 'tBCH',\n      apiId: 1831\n    },\n    {\n      name: 'Litecoin',\n      logo: 'ltc.png',\n      ticker: 'tLTC',\n      apiId: 2,\n    }\n  ],\n  wsProxyUrl: 'wss://carte7000-payment-demo.herokuapp.com',\n  keyFactory: '/keyFactory/',\n  ledgerUrl: '/ledger/',\n  accountUrl: '/accounts/'\n  // ledgerUrl: 'http://localhost:8081/'\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}